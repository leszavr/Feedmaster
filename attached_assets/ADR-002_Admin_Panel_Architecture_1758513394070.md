# ADR-002: Архитектура Админ-панели

**Статус**: Принято

**Контекст**:
Необходимость создания выделенной админ-панели для управления платформой FeedMaster. Первоначальный подход ошибочно интегрировал админ-панель в существующий пользовательский макет, что привело к нарушению иерархии навигации и смешению контекстов. Документация (`Int_admin-panel.md`) требует, чтобы админ-панель была полностью изолированным разделом, доступным только для роли "owner", с собственным уникальным интерфейсом и функциональностью.

**Решение**:

1.  **Изолированная Группа Маршрутов (Route Group):**
    *   Админ-панель будет реализована в отдельной группе маршрутов `(admin)` в каталоге `src/app/[locale]/`. Новая структура будет выглядеть так: `src/app/[locale]/(admin)/admin/...`.
    *   Эта группа будет иметь свой собственный корневой макет `src/app/[locale]/(admin)/layout.tsx`. Этот макет **не будет** наследовать элементы из основного пользовательского макета (например, `AppSidebar`), обеспечивая полную визуальную и структурную изоляцию.

2.  **Авторизация на Уровне Макета**:
    *   В `(admin)/layout.tsx` будет реализована проверка аутентификации и авторизации. Она будет проверять, что текущий пользователь аутентифицирован и имеет роль `owner`. Если условия не выполняются, будет выполнен редирект на страницу входа или на главную страницу приложения.
    *   Для упрощения разработки, эту проверку можно будет временно закомментировать.

3.  **Специализированные Компоненты и Данные**:
    -   Все UI-компоненты для админ-панели будут создаваться с нуля в новой директории, например, `src/components/admin/`. Это включает в себя навигацию, карточки статистики, графики и таблицы, как описано в `Int_admin-panel.md`.
    -   Для разработки UI будут использоваться отдельные файлы с моковыми данными в формате JSON. Это позволит отделить данные от представления, упростит разработку для frontend и послужит четким контрактом для бэкенда. Локализация будет осуществляться с помощью `next-intl`.

**Последствия**:
- **Положительные**:
  - Четкое разделение ответственности между пользовательским интерфейсом и панелью администратора.
  - Упрощенная и более надежная система безопасности для админ-зоны.
  - Макет админ-панели будет соответствовать спецификации, без наследования ненужных элементов.
  - Использование моковых JSON-файлов ускорит разработку UI и обеспечит четкий контракт для бэкенда.
- **Отрицательные**:
  - Небольшое увеличение количества файлов в проекте, что является приемлемой платой за чистоту и масштабируемость архитектуры.
